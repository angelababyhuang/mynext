# 需求文档

## 介绍

课程笔记软件是一个基于Web的应用程序，旨在帮助学习者创建、组织和复习知识内容。该软件支持Markdown格式的知识卡片，通过可拖拽的节点编辑器将知识点组织成知识树结构，并按照书籍-章节-知识卡片的层次进行管理。系统还提供模板功能和PDF导出，以及复习回顾机制来加强学习效果。

## 需求

### 需求 1 - 知识卡片管理

**用户故事：** 作为学习者，我希望能够创建和编辑Markdown格式的知识卡片，以便记录和整理学习内容。

#### 验收标准

1. WHEN 用户点击创建卡片按钮 THEN 系统 SHALL 打开一个新的Markdown编辑器界面
2. WHEN 用户在编辑器中输入Markdown内容 THEN 系统 SHALL 实时预览渲染后的内容
3. WHEN 用户插入图片 THEN 系统 SHALL 支持图片的上传和显示
4. WHEN 用户输入代码块 THEN 系统 SHALL 提供语法高亮显示
5. WHEN 用户输入数学公式 THEN 系统 SHALL 使用LaTeX格式渲染数学公式
6. WHEN 用户保存卡片 THEN 系统 SHALL 将卡片内容持久化存储

### 需求 2 - 可拖拽节点编辑器

**用户故事：** 作为学习者，我希望通过拖拽操作来组织知识卡片，以便构建直观的知识树结构。

#### 验收标准

1. WHEN 用户进入知识树编辑模式 THEN 系统 SHALL 显示可拖拽的节点界面
2. WHEN 用户拖拽知识卡片节点 THEN 系统 SHALL 允许节点在画布上自由移动
3. WHEN 用户将一个节点拖拽到另一个节点附近 THEN 系统 SHALL 显示连接提示
4. WHEN 用户建立节点连接 THEN 系统 SHALL 创建父子关系或关联关系
5. WHEN 用户双击节点 THEN 系统 SHALL 打开对应的知识卡片进行编辑
6. WHEN 用户保存知识树结构 THEN 系统 SHALL 保存节点位置和连接关系

### 需求 3 - 层次化内容组织

**用户故事：** 作为学习者，我希望按照书籍-章节-知识卡片的结构来组织笔记，以便系统化地管理学习内容。

#### 验收标准

1. WHEN 用户创建新书籍 THEN 系统 SHALL 允许设置书籍名称和描述
2. WHEN 用户在书籍下创建章节 THEN 系统 SHALL 建立书籍与章节的层次关系
3. WHEN 用户在章节下添加知识卡片 THEN 系统 SHALL 将卡片归属到指定章节
4. WHEN 用户查看内容结构 THEN 系统 SHALL 以树形结构显示书籍-章节-卡片的层次
5. WHEN 用户重新组织结构 THEN 系统 SHALL 允许拖拽移动章节和卡片到不同位置
6. WHEN 用户删除上级内容 THEN 系统 SHALL 提示确认并处理下级内容的归属

### 需求 4 - 模板和PDF导出

**用户故事：** 作为学习者，我希望能够使用模板来格式化内容并导出为PDF，以便打印和分享学习资料。

#### 验收标准

1. WHEN 用户选择导出功能 THEN 系统 SHALL 提供多种预设模板选项
2. WHEN 用户选择模板 THEN 系统 SHALL 按照模板格式组织内容布局
3. WHEN 用户预览导出内容 THEN 系统 SHALL 显示格式化后的内容预览
4. WHEN 用户确认导出 THEN 系统 SHALL 生成PDF文件供下载
5. WHEN 用户自定义模板 THEN 系统 SHALL 允许保存和重用自定义模板
6. IF 内容包含图片和公式 THEN 系统 SHALL 在PDF中正确渲染这些元素

### 需求 5 - 复习和回顾系统

**用户故事：** 作为学习者，我希望系统能够帮助我定期复习知识内容，以便加强记忆和理解。

#### 验收标准

1. WHEN 用户设置复习计划 THEN 系统 SHALL 根据遗忘曲线算法安排复习时间
2. WHEN 到达复习时间 THEN 系统 SHALL 提醒用户进行复习
3. WHEN 用户开始复习 THEN 系统 SHALL 按照优先级展示需要复习的知识卡片
4. WHEN 用户完成单个卡片复习 THEN 系统 SHALL 记录复习结果和难度评级
5. WHEN 用户标记掌握程度 THEN 系统 SHALL 调整该卡片的下次复习时间
6. WHEN 用户查看复习统计 THEN 系统 SHALL 显示学习进度和复习效果数据

### 需求 6 - 用户界面和体验

**用户故事：** 作为学习者，我希望软件界面简洁易用，响应迅速，以便专注于学习内容本身。

#### 验收标准

1. WHEN 用户访问应用 THEN 系统 SHALL 在3秒内加载完成主界面
2. WHEN 用户在不同功能间切换 THEN 系统 SHALL 提供流畅的过渡动画
3. WHEN 用户在移动设备上使用 THEN 系统 SHALL 提供响应式的移动端界面
4. WHEN 用户进行操作 THEN 系统 SHALL 提供清晰的视觉反馈
5. WHEN 用户遇到错误 THEN 系统 SHALL 显示友好的错误提示信息
6. WHEN 用户需要帮助 THEN 系统 SHALL 提供操作指南和帮助文档